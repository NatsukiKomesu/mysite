!function(x,t){x.ui=x.ui||{};var n,T=Math.max,W=Math.abs,C=Math.round,s=/left|center|right/,o=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,r=/%$/,h=x.fn.position;function S(t,e,i){return[parseFloat(t[0])*(r.test(t[0])?e/100:1),parseFloat(t[1])*(r.test(t[1])?i/100:1)]}function k(t,e){return parseInt(x.css(t,e),10)||0}x.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,e,i=x("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=i.children()[0];return x("body").append(i),t=s.offsetWidth,i.css("overflow","scroll"),t===(e=s.offsetWidth)&&(e=i[0].clientWidth),i.remove(),n=t-e},getScrollInfo:function(t){var e=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),s="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?x.position.scrollbarWidth():0,height:s?x.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=x(t||window),i=x.isWindow(e[0]);return{element:e,isWindow:i,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:i?e.width():e.outerWidth(),height:i?e.height():e.outerHeight()}}},x.fn.position=function(c){if(!c||!c.of)return h.apply(this,arguments);c=x.extend({},c);var m,f,d,p,g,t,e,i,v=x(c.of),y=x.position.getWithinInfo(c.within),b=x.position.getScrollInfo(y),w=(c.collision||"flip").split(" "),_={};return t=9===(i=(e=v)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:x.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()},v[0].preventDefault&&(c.at="left top"),f=t.width,d=t.height,p=t.offset,g=x.extend({},p),x.each(["my","at"],function(){var t,e,i=(c[this]||"").split(" ");1===i.length&&(i=s.test(i[0])?i.concat(["center"]):o.test(i[0])?["center"].concat(i):["center","center"]),i[0]=s.test(i[0])?i[0]:"center",i[1]=o.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),_[this]=[t?t[0]:0,e?e[0]:0],c[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===c.at[0]?g.left+=f:"center"===c.at[0]&&(g.left+=f/2),"bottom"===c.at[1]?g.top+=d:"center"===c.at[1]&&(g.top+=d/2),m=S(_.at,f,d),g.left+=m[0],g.top+=m[1],this.each(function(){var i,t,l=x(this),a=l.outerWidth(),r=l.outerHeight(),e=k(this,"marginLeft"),s=k(this,"marginTop"),n=a+e+k(this,"marginRight")+b.width,o=r+s+k(this,"marginBottom")+b.height,h=x.extend({},g),u=S(_.my,l.outerWidth(),l.outerHeight());"right"===c.my[0]?h.left-=a:"center"===c.my[0]&&(h.left-=a/2),"bottom"===c.my[1]?h.top-=r:"center"===c.my[1]&&(h.top-=r/2),h.left+=u[0],h.top+=u[1],x.support.offsetFractions||(h.left=C(h.left),h.top=C(h.top)),i={marginLeft:e,marginTop:s},x.each(["left","top"],function(t,e){x.ui.position[w[t]]&&x.ui.position[w[t]][e](h,{targetWidth:f,targetHeight:d,elemWidth:a,elemHeight:r,collisionPosition:i,collisionWidth:n,collisionHeight:o,offset:[m[0]+u[0],m[1]+u[1]],my:c.my,at:c.at,within:y,elem:l})}),c.using&&(t=function(t){var e=p.left-h.left,i=e+f-a,s=p.top-h.top,n=s+d-r,o={target:{element:v,left:p.left,top:p.top,width:f,height:d},element:{element:l,left:h.left,top:h.top,width:a,height:r},horizontal:i<0?"left":0<e?"right":"center",vertical:n<0?"top":0<s?"bottom":"middle"};f<a&&W(e+i)<f&&(o.horizontal="center"),d<r&&W(s+n)<d&&(o.vertical="middle"),T(W(e),W(i))>T(W(s),W(n))?o.important="horizontal":o.important="vertical",c.using.call(this,t,o)}),l.offset(x.extend(h,{using:t}))})},x.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,l=t.left-e.collisionPosition.marginLeft,a=n-l,r=l+e.collisionWidth-o-n;e.collisionWidth>o?0<a&&r<=0?(i=t.left+a+e.collisionWidth-o-n,t.left+=a-i):t.left=0<r&&a<=0?n:r<a?n+o-e.collisionWidth:n:0<a?t.left+=a:0<r?t.left-=r:t.left=T(t.left-l,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,o=e.within.height,l=t.top-e.collisionPosition.marginTop,a=n-l,r=l+e.collisionHeight-o-n;e.collisionHeight>o?0<a&&r<=0?(i=t.top+a+e.collisionHeight-o-n,t.top+=a-i):t.top=0<r&&a<=0?n:r<a?n+o-e.collisionHeight:n:0<a?t.top+=a:0<r?t.top-=r:t.top=T(t.top-l,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,l=n.width,a=n.isWindow?n.scrollLeft:n.offset.left,r=t.left-e.collisionPosition.marginLeft,h=r-a,u=r+e.collisionWidth-l-a,c="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,m="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];h<0?((i=t.left+c+m+f+e.collisionWidth-l-o)<0||i<W(h))&&(t.left+=c+m+f):0<u&&(0<(s=t.left-e.collisionPosition.marginLeft+c+m+f-a)||W(s)<u)&&(t.left+=c+m+f)},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,l=n.height,a=n.isWindow?n.scrollTop:n.offset.top,r=t.top-e.collisionPosition.marginTop,h=r-a,u=r+e.collisionHeight-l-a,c="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,m="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];h<0?(s=t.top+c+m+f+e.collisionHeight-l-o,t.top+c+m+f>h&&(s<0||s<W(h))&&(t.top+=c+m+f)):0<u&&(i=t.top-e.collisionPosition.marginTop+c+m+f-a,t.top+c+m+f>u&&(0<i||W(i)<u)&&(t.top+=c+m+f))}},flipfit:{left:function(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}},function(){var t,e,i,s,n,o=document.getElementsByTagName("body")[0],l=document.createElement("div");for(n in t=document.createElement(o?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&x.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)t.style[n]=i[n];t.appendChild(l),(e=o||document.documentElement).insertBefore(t,e.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",s=x(l).offset().left,x.support.offsetFractions=10<s&&s<11,t.innerHTML="",e.removeChild(t)}()}(jQuery),function(i){i.widget("ui.watchinput",{lastVal:"",timer:null,_create:function(){this.disable(!1),"unknown"!=typeof document.activeElement&&document.activeElement==this.element[0]&&setTimeout(i.proxy(this._focus,this),0)},disable:function(t){var e=this;t?(clearInterval(this.timer),this.element.unbind("blur",e._blur).unbind("focus",e._focus).unbind("keypress",e._keypress)):(this.lastVal=this.element.val(),this.element.bind("blur",i.proxy(e._blur,e)).bind("focus",i.proxy(e._focus,e)).bind("keypress",i.proxy(e._keypress,e)))},_keypress:function(t){112<=t.keyCode&&t.keyCode<=123||this._watchAndFire(t)},_blur:function(t){setTimeout(i.proxy(this._watchAndFire,this),0),clearInterval(this.timer)},_focus:function(t){this.lastVal=this.element.val(),this.timer=setInterval(i.proxy(this._watchAndFire,this),200)},_watchAndFire:function(t){var e=this;return this.element.val()!=this.lastVal&&(this.lastVal=this.element.val(),setTimeout(function(){e._trigger("input",t,{value:e.element.val()})},0),!0)}})}(jQuery),function(o,t){o.widget("ui.suggest",{options:{layerId:"suggestLayer",layerToggle:"",position:{my:"left top",at:"left bottom",collision:"none"},cookieDomain:"",cookieName:"",autofocus:!0,disabled:!1,maxLength:32},_create:function(){var n=this;doc=this.element[0].ownerDocument;var t=o.cookie(this.options.cookieName);this.options.disabled=!(!t||"unuse"!=t),this.watch=new o.ui.watchinput,this.watch.options={input:function(t,e){n.options.disabled||n._input(t)}},this.watch.element=this.element,this.watch._create(),this.element.attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.suggest",function(t){var e=o.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:case e.PAGE_DOWN:case e.LEFT:case e.RIGHT:break;case e.UP:n._move("previous",t);break;case e.DOWN:n._move("next",t);break;case e.ENTER:case e.NUMPAD_ENTER:n.menu.active?n._trigger("select",t,{item:n.menu.active.data("item.suggest")}):n._trigger("select",t,{item:{value:n.element.val(),term:n.term}}),t.stopPropagation();break;case e.ESCAPE:n.element.val(n.term),n.close(t)}}).bind("blur.suggest",function(t){clearTimeout(n.searching),n.closing=setTimeout(function(){n.close(t),n._change(t)},150)}).bind("mousedown.suggest",function(){0<n.element.val().length&&n.open()}),this._initSource(),this.response=function(){return n._response.apply(n,arguments)},this.menu=o("#"+this.options.layerId).mousedown(function(t){var e=n.menu.element[0];t.target===e&&setTimeout(function(){o(document).one("mousedown",function(t){t.target===n.element[0]||t.target===e||o.ui.contains(e,t.target)||n.close()})},1),setTimeout(function(){clearTimeout(n.closing)},13)}).suggestLayer({base:n.element.parent(),disabled:n.options.disabled,position:n.options.position,focus:function(t,e){var i=e.item.data("item.suggest");!1!==n._trigger("focus",null,{item:i})&&/^key/.test(t.originalEvent.type)&&(n.watch.disable(!0),n.element.val(i.value),n.watch.disable(!1))},selected:function(t,e){var i=e.item.data("item.suggest"),s=n.previous;n.element[0]!==doc.activeElement&&(n.element.focus(),n.previous=s),!1!==n._trigger("select",t,{item:i,term:n.term})&&(n.term=i.value,n.watch.disable(!0),n.element.val(i.value),n.watch.disable(!1)),n.close(t),n.selectedItem=i},blur:function(t,e){},enable:function(t,e){n._disable(!1,t)},disable:function(t,e){n._disable(!0,t)}}).zIndex(this.element.zIndex()+999).css({top:0,left:0}).hide().data("ui-suggestLayer"),o(n.options.layerToggle).mousedown(function(t){t.preventDefault(),n.menu.element.is(":visible")?n.close():n.open()}).click(function(t){t.preventDefault()}),this.options.autofocus&&n._setAutoFocus(),n._disable(n.options.disabled,null),o.fn.bgiframe&&this.menu.element.bgiframe()},_setAutoFocus:function(){o(document).keydown(o.proxy(function(t){var e=t.target,i=o.ui.keyCode,s=t.keyCode;if(!{INPUT:1,TEXTAREA:1,SELECT:1,EMBED:1,OBJECT:1}[e.tagName?e.tagName.toUpperCase():""]||t.ctrlKey&&86!==s){if(224==s||116==s||t.metaKey||s===i.BACKSPACE||s>=i.SPACE&&s<=i.DOWN||21!=s&&s<i.SPACE||t.altKey)return;s===i.SPACE&&t.shiftKey?(window.scrollTo(0,0),this.element.focus(),this.element.select(),t.preventDefault()):e!=this.element[0]&&(window.scrollTo(0,0),this.element.focus(),this.element.select(),this._input(t))}},this))},_input:function(t){var e=this;clearTimeout(e.searching),e.searching=setTimeout(function(){e.term!=e.element.val()&&(e.selectedItem=null,e.search(null,t))},e.options.delay)},_disable:function(t,e){o.cookie(this.options.cookieName,t?"unuse":"use",{expires:new Date((new Date).getTime()+189216e7),domain:this.options.domain}),this.options.disabled=t,this.element.attr("autocomplete",t?"on":"off"),!t&&e&&this.search(null,e)},_initSource:function(){var i,e,n=this;o.isArray(this.options.source)?(i=this.options.source,this.source=function(t,e){e(o.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(e=this.options.source,this.source=function(t,s){n.xhr&&n.xhr.abort(),n.xhr=o.getJSON(e,t,function(t,e,i){i===n.xhr&&s(t),n.xhr=null})}):this.source=this.options.source},search:function(t,e){return t=null!=t?t:this.element.val(),this.term=this.element.val(),t.lengt_triggerh<this.options.minLength?this.close(e):(clearTimeout(this.closing),!1!==this._trigger("search")?this._search(t):void 0)},_search:function(t){this.element.addClass("ui-autocomplete-loading"),this.source({term:t},this.response)},_response:function(t){t.length?(t=this._normalize(t),this._suggest(t),this._trigger("open")):(this.menu.ul.empty(),this.menu.deactivate(),this.menu.refresh(),0==this.element.val().length&&this.menu.element.is(":visible")?this.close():this.menu.show()),this.element.removeClass("ui-autocomplete-loading")},close:function(t){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.hide(),this._trigger("close",t))},_change:function(t){this.previous!==this.element.val()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:o.map(t,function(t){return"string"==typeof t?{label:t,value:t}:{label:t[5],value:t[5],name:t[5],isMatch:"1"==t[6],id:t[2],count:t[3],officialFlag:"1"==t[4]}})},_suggest:function(t){var e=this.menu.ul.empty().zIndex(this.element.zIndex()+1);this._renderMenu(e,t),this.menu.deactivate(),this.menu.refresh(),this.open()},open:function(){this.menu.show();var t=this.menu.ul;menuWidth=t.width("").outerWidth(),textWidth=o(this.options.layerSize).outerWidth(),t.outerWidth(Math.max(menuWidth,textWidth))},_renderMenu:function(i,t){var s=this;(1<t.length||1===t.length&&!t[0].isMatch)&&o.each(t,function(t,e){s._renderItem(i,e)});var e=o('<li class="searchKeyword"><a title data-na="NC:searchword" href="" tabindex="-1"><em></em>で検索</a></li>');e.data("item.suggest",{value:s.element.val(),term:s.element.val()}).find("EM").text(s.element.val()),i.append(e)},_renderItem:function(t,e){var i=nj.cutStringByte(e.label,this.option("maxLength"),"…");return o("<li></li>").data("item.suggest",e).append('<a title="'+e.label+'" href="#"><span class="mdSuggest01Txt"></span></a>').find("SPAN.mdSuggest01Txt").text(i).end().appendTo(t)},_move:function(t,e){if(!this.menu.ul.is(":empty"))if(this.menu.element.is(":visible")){if(!this.menu.last()||!/^next/.test(t))return this.menu.first()&&/^previous/.test(t)?(this.element.val(this.term),void this.close()):void this.menu[t](e)}else/^next/.test(t)&&this.search(null,e)}})}(jQuery),function(i){i.widget("ui.suggestLayer",{options:{base:null,inner:"suggestDtl",listbox:"_resultBox1",messagebox1:"guideText",messagebox2:"guideText2",on:"suggestOn",off:"suggestOff",position:{my:"left top",at:"left bottom",collision:"none"},disabled:!1},_create:function(){var e=this;i("."+this.options.on,this.element).click(function(t){t.preventDefault(),t.stopPropagation(),e.options.disabled=!1,e._status(),e._trigger("enable",t,{})}),i("."+this.options.off,this.element).click(function(t){t.preventDefault(),t.stopPropagation(),e.options.disabled=!0,e._status(),e._trigger("disable",t,{})}),this.detail=i("."+this.options.inner,this.element),this.ul=i("."+this.options.listbox,this.element),this.ul.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(t){i(t.target).closest(".ui-menu-item a").length&&(t.preventDefault(),e.select(t))}),this.refresh(),i(window).resize(i.proxy(e._setPosition,e))},refresh:function(){var e=this;this.ul.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").attr("data-na","NC:suggesttopic").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(t){e.activate(t,i(this).parent())}).mouseleave(function(){e.deactivate()}),this._status()},activate:function(t,e){if(this.deactivate(),this.hasScroll()){var i=e.offset().top-this.element.offset().top,s=this.element.attr("scrollTop"),n=this.element.height();i<0?this.element.attr("scrollTop",s+i):n<=i&&this.element.attr("scrollTop",s+i-n+e.height())}this.active=e.eq(0).children("a").addClass("ui-state-hover").addClass("selected").attr("id","ui-active-menuitem").end(),this._trigger("focus",t,{item:e})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeClass("selected").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(t){this.move("next",".ui-menu-item:first",t)},previous:function(t){this.move("prev",".ui-menu-item:last",t)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(t,e,i){if(this.active){var s=this.active[t+"All"](".ui-menu-item").eq(0);s.length?this.activate(i,s):this.activate(i,this.ul.children(e))}else this.activate(i,this.ul.children(e))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(t){this._trigger("selected",t,{item:this.active})},show:function(){this.element.show(),this._status(),this._setPosition()},hide:function(){this.element.hide(),this.deactivate()},_setPosition:function(){this.element.is(":visible")&&this.element.position(i.extend({of:this.options.base},this.options.position))},_status:function(){this.options.disabled?this.detail.removeClass("list").addClass("disable"):(this.detail.removeClass("disable"),this.detail[this.ul.is(":empty")?"removeClass":"addClass"]("list"))}})}(jQuery),function(s,t){s.widget("ui.njSuggest",s.ui.suggest,{options:{plusWidth:0},_create:function(){s("body").append('\x3c!-- Suggest Layer --\x3e<div id="smartSearchLayer" data-na="NA:suggest" class="suggestLayer MdSuggest01" style="display:none">\x3c!--NA:suggest--\x3e<div class="suggestDtl list"><ul class="_resultBox1"></ul></div>\x3c!-- / .MdSuggest01 --\x3e</div>');var t=new s.ui.suggest;this._create=t._create,this._create(),this._setDisplay()},_setDisplay:function(){this.element.focus(s.proxy(function(t){this.element.parent().parent().addClass("ExSelected")},this)).focusout(s.proxy(function(t){this.element.val().length<1&&this.element.parent().parent().removeClass("ExSelected")},this))},open:function(){0<this.menu.ul.children().length&&this.menu.show();var t=this.element.parent().parent(),e=t.outerHeight()+t.offset().top-1,i=t.outerWidth()+this.option("plusWidth")-1;s(this.menu.element).css({top:e,width:i,left:t.offset().left})}})}(jQuery),nj.getPackage("nj.matome.suggest",function(){var i={issuggest:!0,params:{official:"1"}};return{options:{},init:function(t){var e=$.extend(this.options,i,t);e.issuggest&&this._initSuggest(e.params),$("#searchForm").submit(function(t){return!1})},_initSuggest:function(i){var n=this;$("#q").njSuggest({layerId:"smartSearchLayer",layerToggle:".mdHeadSearch01Btn02",layerSize:".mdHeadSearch01InputInner",cookieDomain:"naver.jp",cookieName:"NaverSuggestUse",autofocus:!1,plusWidth:$("#searchForm").find("input[type=button]").width()+2,source:function(t,s){var e={q:fnMatome.trim(t.term,!0)};$.extend(!0,e,i),$.ajax({url:n.options.Url+"/ac",dataType:"jsonp",jsonp:"_callback",data:e,success:function(t){var e=t.items;if(e[0].length<1)s([]),$("#smartSearchLayer").hide();else{_data=[];var i;i=e[0].concat(e[1]).slice(0,5),$.each(i,function(t,e){if(void 0!==e&&e){if(5<=t||!e[0])return;var i=e[1].split("{naver}");_data.push([$.trim(e[0]).replace("$","$$"),i[0],i[1],i[2],i[3],i[4],i[5]])}}),s(_data)}}})},select:function(t,e){$("#q").val(e.item.value),t.stopPropagation();var i=fnMatome.trim(e.item.value,!0);return n._search(i),!1}});$("INPUT.mdHeadSearch01Btn01").click(function(t){var e=fnMatome.trim($("#q").val(),!0);return window.location.href=""!==e?"/search?q="+encodeURIComponent(e):getNullQueryReferencePage(),!1}),$(document).bind("click.matome_suggest",function(t){var e=!1;$.each(["mdHeadSearch01Btn02","guideText02","mdHeadSearch01InputTxt"],function(){e=$(t.target).hasClass(this)||e}),e||$("#smartSearchLayer").hide()})},_search:function(t){window.location.href=""===t?getNullQueryReferencePage():"/search?q="+encodeURIComponent(t)}}}());